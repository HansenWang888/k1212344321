<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
            <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
            <title></title>
            <script src="../../ui/common/js/mui.min.js"></script>
            <script src="../../ui/common/js/requestAddressList.js"></script>
            <script src="../../ui/common/js/common.js"></script>
            <link href="../../ui/common/css/mui.min.css" rel="stylesheet" />
            <script src="../../ui/common/components/wdEdit/wdEditStarter.js"></script>
            <link href="../../ui/common/components/wdEdit/wdEdit.css" rel="stylesheet" />
            </head>
    
    <body>
        <!--<div style="border: 1px solid #F00;padding: 20px;overflow: hidden;">
         <div id="wd_edit" class="wd-editbox"></div>
         </div>-->
<!--        <input type="text" value="获取文本框内容" id="edit_btn" style=“-wekit-user-select:text;” />-->
        <div id="wd_edit" class="wd-editbox"></div>
        <!--<input type="button" value="追加文本框内容" id="editAppend_btn" />-->
        <!--<div id="aaa" style="margin: 10px;padding: 10px;border: 1px solid #000"></div>-->
    </body>
    <script type="text/javascript" charset="utf-8">
        function init() {
            mui("#wd_edit").wdEditStarter({});
            //			elementBindEvent({
            //			eventId: "edit_btn",
            //			eventFunction: function() {
            //					var content = mui("#wd_edit").getContent();
            //					Android.getContent(content);
            //				}
            //			});
            //			elementBindEvent({
            //				eventId: "editAppend_btn",
            //				eventFunction: function() {
            //					var temp = mui("#wd_edit").getContent();
            ////					mui("#wd_edit").setContent(temp, true);
            //					document.getElementById("aaa").innerHTML = temp;
            //				}
            //			});
        }
    //		(function($) {
    //			// 初始化方法
    //			mui.plusReady(function() {
    //				mui("#wd_edit").wdEditStarter({});
    //			});
    //			elementBindEvent({
    //				eventId: "edit_btn",
    //				eventFunction: function() {
    //					mui("#wd_edit").getContent();
    //
    //				}
    //			});
    //			elementBindEvent({
    //				eventId: "editAppend_btn",
    //				eventFunction: function() {
    //					var temp = mui("#wd_edit").getContent();
    //					mui("#wd_edit").setContent(temp, true);
    //					document.getElementById("aaa").innerHTML = temp;
    //				}
    //			});
    //		})(mui);
    /**
     * android原生中上传完附件传回附件地址
     * @param {Object} imgAddr 图片地址
     */
    function appendAttachment(imgAddr) {
        console.log(imgAddr);
        mui("#wd_edit").appendAttach(imgAddr);
    }
    
    /**
     * 获取富文本内容
     */
    function getRichText() {
        // 获取所有内容
        var content = mui("#wd_edit").getContent();
        // 获取纯文本内容
        var contentTxt = mui("#wd_edit").getContentTxt();
        // 获取所有图片
        var contentImg = mui("#wd_edit").getContentImg();
        // replace(/<\/?[^\/?(b)|(i)|(u)|(p)][^><]*>/g,"")
        return content.replace(/&nbsp;/g," ") + "_wd_" + contentTxt + "_wd_" + contentImg;
    }
    
    /**
     * 设置富文本内容
     * @param {Object} content 富文本内容
     */
    function setRichText (content) {
        console.log(content);
        mui("#wd_edit").setContent(content,false);
    }
    </script>
    
</html>
